<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Cadastro de Profissões</title>
</h:head>
<h:body>

    <p:growl sticky="true"/>

    <div id="menu">
        <ui:insert name="menu" >
            <ui:include src="WEB-INF/templates/navbar.xhtml" />
        </ui:insert>
    </div>

    <h1 style="text-align: center;">Cadastro de Profissões</h1>

    <h:form>
        <div class="ui-fluid">
            <p:panelGrid columns="2" layout="grid" columnClasses="ui-g-4 ui-md-2 ui-lg-1 , ui-g-8 ui-md-10 ui-lg-11">
                <p:outputLabel for="descricao" value="Descricao: "/>
                <p:inputText
                        id="descricao"
                        required="true"
                        requiredMessage="Campo com preenchimento obrigatório"
                        value="#{profissaoBean.profissao.descricao}"
                        placeholder="Informe a descrição"
                />
            </p:panelGrid>
        </div>
        <p:spacer height="10px"/>

        <p:toolbar>
            <f:facet name="left">
                <p:commandButton
                        type="reset"
                        ajax="false"
                        icon="fa fa-eraser"
                        action="#{profissaoBean.limpar()}"
                        value="Limpar"/>
                <p:commandButton
                        ajax="false"
                        icon="fa fa-save"
                        action="#{profissaoBean.salvar()}"
                        value="Salvar"/>
            </f:facet>
        </p:toolbar>
    </h:form>

    <p:spacer height="10px"/>

    <h:form>
        <p:dataTable
                value="#{profissaoBean.profissaos}"
                var="p">

            <p:column headerText="Id:">
                <h:outputText value="#{p.id}"/>
            </p:column>

            <p:column headerText="Descricao:">
                <h:outputText value="#{p.descricao}"/>
            </p:column>

            <p:column headerText="Acões:">
                <p:commandButton
                        ajax="false"
                        icon="fa fa-pencil">
                    <f:setPropertyActionListener
                            target="#{profissaoBean.profissao}"
                            value="#{p}"/>
                </p:commandButton>
                <p:commandButton
                        ajax="false"
                        icon="fa fa-trash"
                        action="#{profissaoBean.remover}">
                    <f:setPropertyActionListener
                            target="#{profissaoBean.profissao}"
                            value="#{p}"/>
                </p:commandButton>
            </p:column>
        </p:dataTable>
    </h:form>

</h:body>
</html>
